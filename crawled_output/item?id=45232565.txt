486Tang – 486 on a credit-card-sized FPGA board | Hacker NewsHacker Newsnew | past | comments | ask | show | jobs | submitlogin486Tang – 486 on a credit-card-sized FPGA board (nand2mario.github.io)145 points by bitbrewer 10 hours ago
| hide | past | favorite | 41 comments
p_ing 8 hours ago
| next [–]
> Obviously, at the time of the 80486, DDR didn’t exist, so SDRAM is a natural fit.Neither are a fit, SDRAM was a Pentium/K-6 standard (PC66); the DIMMs ran faster than a non-OC'ed 486 bus, which ran at half the clock of the CPU. 486 "natural fit" would be FPM or EDO, if you wanted to be era-correct.There were probably some off the wall 486 motherboards back then that supported SDR (post-1993...), but those would have been towards the very end of the 486 consumer life cycle. These did exist in the 486 era, where they had the option to run (or had an embedded) 386 using FPM while there was an open 486 socket and the option, but not requirement to run EDO.Anyway, this is someone's project, so they can do whatever the heck they want.replynand2mario 6 hours ago
| parent | next [–]
Author here.
You’re right—EDO or FPM would be correct for the era. But as others have noted, DDR3 is fundamentally different from early 1990s memory, and it simply won’t run at the very low clock speeds of a 486. SDRAM, on the other hand, behaves in a way that’s much more comparable to the memory used back then.replyColonelPhantom 1 hour ago
| prev | next [–]
Out of curiosity, how much of the 138K LUTs (as well as other resources like BRAM) are in use here? I wonder if there's much room to add fancy peripherals, or perhaps "growing" the CPU to achieve better IPC.replyTehCorwiz 10 hours ago
| prev | next [–]
Doesn’t DDR just stand for Double-Data-Rate? So you implemented basic DDR on top is sdram. Not a bad approach, just wanted to point it out.replyrobinsonb5 8 hours ago
| parent | next [–]
It does, yes. But the DDR RAM available on the target board is DDR3 which is actually quite inconvenient for retro projects for a number of reasons.Quite apart from the increased complexity, the most important difference is that there's a minimum speed as well as a maximum speed for modern DDR RAM, which means there's usually quite a narrow window of achievable clock rates when getting an FPGA to talk to DDR3.I suspect that's why the author chose to use the DDR for video: It's usually easy to keep plain old SDRAM in lockstep with a soft-CPU, since you can run it at anything between 133MHz (sometimes even more) and walking pace, so there's no need to deal with messy-and-latency-inducing clock domain crossing.Streaming video data in bursts into a dual-clock FIFO and consuming it on the pixel clock is a much more natural fit.replynand2mario 6 hours ago
| root | parent | next [–]
Yes, for exactly the reason. SDRAM is much easier to work with in retro computing than DDR.replyaccrual 6 hours ago
| root | parent | next [–]
My first DDR system, an Athlon XP, feels like a very different beast than my 440BX with SDRAM despite being only a couple years newer. :)replyanthk 5 hours ago
| root | parent | next [–]
I had that with a Geforce2. Or was Athlon 2000. Wait, Athlon 2000 at 1666 MHZ,
really fast until the capacitors on a Gigayte motherboard blew up.replySomeHacker44 9 hours ago
| prev | next [–]
Silly question. Are there any 486-compatible small CPUs that could be embedded into a project instead of using an FPGA? Given that AMD, Intel and others have the ability to make 486-compatible processors currently, I would have thought you could just buy a CPU or SoC to run 486 code.replyprivatelypublic 8 hours ago
| parent | next [–]
Define "486-compatible." As far as I know even intel's newest cpus can run 486 era 16-bit stuff in hardware.But, a plain answer: Via Eden boards. still use north/southbridge architecture, and are from the mid 2000's.It's just modern Windows/Linux that have discontinued the ability. Or, perhaps you have 16/32 and 32/64 and are unable to do 16bit on 64bit machines- which still boils down to "operating system."By far the biggest issue though is that even the Via Eden processor is significantly faster than a 486- and lots of software (especially games) from that era used no-op instruction loops for timing and timers. This results in games like The Incredible Machine's level timer running out in half a second or less.replyp_ing 2 hours ago
| root | parent | next [–]
In Windows, once you're in long mode, there's no 16-bit available to you. You can instead take the DOSBox or other VM route.Linux isn't really relevant given the time frame.replyprivatelypublic 55 minutes ago
| root | parent | next [–]
I left it open as to if it was a hardware or OS level item that prevents 16bit. Because I don't know, and don't care to dig that rabbit hole.Also- DOSBox is an emulator vs VMs are hardware, no? I suspect A VM won't fix the "no-op loop for timing" issue- with modern processors' lowest clock being 600-800Mhz before it gets C6/C7'd, 30 years of IPC improvement, and the possibility of the CPU itself optimizing such loops (I'm unsure for various reasons): I expect the UX of "just limit how many scheduler slices it gets" to be nasty.replyzokier 8 hours ago
| parent | prev | next [–]
Vortex86 is probably the closest thing to what you are looking for.replyvascocosta 8 hours ago
| root | parent | next [–]
Any idea when Pixel86 is going to be available again or how/where to get an ITX-Llama system?replyp_ing 1 hour ago
| root | parent | next [–]
Pre-orders:https://retrodreams.ca/Review - https://www.youtube.com/watch?v=L9UdU89DDvYreplyThrowawayR2 8 hours ago
| parent | prev | next [–]
Intel did have a product like that but it's been discontinued: https://en.wikipedia.org/wiki/Intel_QuarkreplyJoe_Cool 5 hours ago
| root | parent | next [–]
AMD even had two of them. Their own: https://en.wikipedia.org/wiki/AMD_%C3%89lan
and based on the Cyrix x586 after they acquired them: https://en.wikipedia.org/wiki/Geode_(processor)They weren't even that bad considering the little power they needed.replyFrenchgeek 9 hours ago
| parent | prev | next [–]
I'm guessing the ITX-Llama is far less affordable next to reusing a "generic" FPGA retrogaming board.replyhedgehog 8 hours ago
| prev | next [–]
I hadn't heard of this board before, here's a link to a page on the manufacturer's site:https://classic.sipeed.com/tangconsolereplyp_ing 8 hours ago
| parent | next [–]
A review of sorts - https://youtu.be/ScwZwfS53dEreplyaspenmayer 8 hours ago
| parent | prev | next [–]
Ah that’s nice. Affordable FPGAs are always welcome.https://archive.is/UD0vHreplyfabiensanglard 10 hours ago
| prev | next [–]
486? If it has VLB, it can play DOOM well!replyaccrual 6 hours ago
| parent | next [–]
Indeed! I have a 486 DX4-100 that is my favorite DOOM system. It has an S3 805 VLB card currently, fast enough. Do you have a favorite VLB card for the 486 or DOOM?replyanthk 5 hours ago
| parent | prev | next [–]
Also there's FastDoom at Github:https://github.com/viti95/FastDoomreplyrbanffy 9 hours ago
| prev | next [–]
I miss Intel's Quark chips. Tiny, cheap, and Pentium enough.replyuserbinator 1 hour ago
| parent | next [–]
Those were actually a 486 microarchitecture with some Pentium instructions added. If you look at the documentation for them, it's obvious that they copy-pasted the 486's and search-and-replaced.replytoast0 8 hours ago
| parent | prev | next [–]
Didn't they have the F00F bug? (Thanks, I keep misremembering) How much more Pentium do you want?replyoakwhiz 8 hours ago
| root | parent | next [–]
No, the Quarks did not have the f00f bug, that would have been funny though.replynumpad0 5 hours ago
| root | parent | next [–]
Didn't they have issues with `LOCK CMPXCHG`(not the 8B)? This is out of my depth and I am not sure, but it sounds similar to the f00f bug.1: https://en.wikipedia.org/wiki/Intel_Quark#Segfault_bugreplyaccrual 6 hours ago
| root | parent | prev | next [–]
I believe the F00F bug was patched out pretty quickly in the Pentium's B2 stepping. Nevertheless, some OSs still have mitigations if they detect an affected CPU (e.g. OpenBSD).replyepcoa 6 hours ago
| root | parent | next [–]
It wasn’t even discovered until 1997, so no that wasn’t exactly early in the Pentium lifecycle at all. There were multiple models and millions of devices affected.replylightedman 7 hours ago
| prev | next [–]
I would love to see ancient tech fabbed out on modern processes.What's the smallest SOC you could design to run DOOM? What power envelope would that consume (exclusing display/speakers/etc.) At that size and (optimized) transistor count, what speeds could we realistically achieve?What would a massively-multicore (gpu-style with multi-hundreds or more of cores) one of these run like?Every time I see a project like this, these thoughts run through my head.replyaccrual 6 hours ago
| parent | next [–]
That is a cool idea for sure. It's fun to imagine where the original x86 platform ({80,2,3,4}86) would have gone if it hadn't been remade with the Pentium (superscaler).replyhalyconWays 2 hours ago
| prev | next [–]
I'd pay a decent price for a non-emulated 486 on a credit card sized board, or in a cute little case, with useful peripherals. Something like those Aliexpress mini pocket 386 computers, but 486 is significantly more useful for gaming.replydevinbernosky 8 hours ago
| prev | next [–]
so this will run half life 2 if I'm not mistaken?replyPhilpax 5 hours ago
| parent | next [–]
For those not aware, this is a reference to an audience comment at the HL2 E3 2003 presentation: https://www.youtube.com/watch?v=4ddJ1OKV63Q&t=200sreplyaccrual 6 hours ago
| parent | prev | next [–]
Half-Life 2 was but a twinkle in Valve's eye when the 486 arch was introduced in 1989. ;)replyant6n 6 hours ago
| parent | prev | next [–]
Could maybe run HL1. Maybe.replysitzkrieg 5 hours ago
| root | parent | next [–]
some og binaries with software rendering would probably slide show it along nicelyreplysystem2 8 hours ago
| prev [–]
When you say "credit-card-sized," I expect the thickness to be as thin as a credit card, too. Isn't the Raspberry Pi credit card sized too?replysitzkrieg 5 hours ago
| parent [–]
rpi are, and always have been a little bigger (and much taller) than credit cards. more like altoids tinreply
Guidelines | FAQ | Lists | API | Security | Legal | Apply to YC | Contact
Search: