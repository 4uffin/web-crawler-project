instagram-follower-following.js · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
AbhimanyuAryan/instagram-follower-following.js
Created
November 2, 2023 03:24
Show Gist options
Download ZIP
Star
15
(15)
You must be signed in to star a gist
Fork
4
(4)
You must be signed in to fork a gist
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/AbhimanyuAryan/393c57efa1ad81431b1d2abe19b9b974.js&quot;&gt;&lt;/script&gt;
Save AbhimanyuAryan/393c57efa1ad81431b1d2abe19b9b974 to your computer and use it in GitHub Desktop.
Code
Revisions
1
Stars
15
Forks
4
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/AbhimanyuAryan/393c57efa1ad81431b1d2abe19b9b974.js&quot;&gt;&lt;/script&gt;
Save AbhimanyuAryan/393c57efa1ad81431b1d2abe19b9b974 to your computer and use it in GitHub Desktop.
Download ZIP
Raw
instagram-follower-following.js
if (window.location.origin !== "https://www.instagram.com") {
window.alert(
"Hey! You need to be on the instagram site before you run the code. I'm taking you there now but you're going to have to run the code into the console again.",
);
window.location.href = "https://www.instagram.com";
console.clear();
}
const fetchOptions = {
credentials: "include",
headers: {
"X-IG-App-ID": "936619743392459",
},
method: "GET",
};
let username;
const sleep = (ms) => new Promise((r) => setTimeout(r, ms));
const random = (min, max) => Math.ceil(Math.random() * (max - min)) + min;
// This function handles all of the pagination logic
// Calls the API recursively until there are no more pages to load
const concatFriendshipsApiResponse = async (
list,
user_id,
count,
next_max_id = "",
) => {
let url = `https://www.instagram.com/api/v1/friendships/${user_id}/${list}/?count=${count}`;
if (next_max_id) {
url += `&max_id=${next_max_id}`;
}
const data = await fetch(url, fetchOptions).then((r) => r.json());
if (data.next_max_id) {
const timeToSleep = random(100, 500);
console.log(
`Loaded ${data.users.length} ${list}. Sleeping ${timeToSleep}ms to avoid rate limiting`,
);
await sleep(timeToSleep);
return data.users.concat(
await concatFriendshipsApiResponse(
list,
user_id,
count,
data.next_max_id,
),
);
}
return data.users;
};
// helper methods to make the code a bit more readable
const getFollowers = (user_id, count = 50, next_max_id = "") => {
return concatFriendshipsApiResponse("followers", user_id, count, next_max_id);
};
const getFollowing = (user_id, count = 50, next_max_id = "") => {
return concatFriendshipsApiResponse("following", user_id, count, next_max_id);
};
const getUserId = async (username) => {
let user = username;
const lower = user.toLowerCase();
const url = `https://www.instagram.com/api/v1/web/search/topsearch/?context=blended&query=${lower}&include_reel=false`;
const data = await fetch(url, fetchOptions).then((r) => r.json());
const result = data.users?.find(
(result) => result.user.username.toLowerCase() === lower,
);
return result?.user?.pk || null;
};
const getUserFriendshipStats = async (username) => {
const user_id = await getUserId(username);
if (!user_id) {
throw new Error(`Could not find user with username ${username}`);
}
const followers = await getFollowers(user_id);
const following = await getFollowing(user_id);
const followersUsernames = followers.map((follower) =>
follower.username.toLowerCase(),
);
const followingUsernames = following.map((followed) =>
followed.username.toLowerCase(),
);
const followerSet = new Set(followersUsernames);
const followingSet = new Set(followingUsernames);
console.log(Array(28).fill("-").join(""));
console.log(
`Fetched`,
followerSet.size,
"followers and ",
followingSet.size,
" following.",
);
console.log(
`If this doesn't seem right then some of the output might be inaccurate`,
);
const PeopleIDontFollowBack = Array.from(followerSet).filter(
(follower) => !followingSet.has(follower),
);
const PeopleNotFollowingMeBack = Array.from(followingSet).filter(
(following) => !followerSet.has(following),
);
return {
PeopleIDontFollowBack,
PeopleNotFollowingMeBack,
};
};
// Make sure you don't delete the quotes
// Replace "example_username" below with your instagram username
//
// Change this:
username = "theabhimanyuaryan";
//
//
//
getUserFriendshipStats(username).then(console.log);
Copy link
ishaan-kapoor
commented
Dec 26, 2024
Thanks, it helped.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
prepperdisk
commented
Feb 27, 2025
Worked perfectly, well done.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
dskatez
commented
Mar 2, 2025
What does this code do?
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
prepperdisk
commented
Mar 2, 2025
Dumps a list of your IG followers in the console in an array
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
dskatez
commented
Mar 3, 2025
Dumps a list of your IG followers in the console in an array
Got a discord? Could you help me
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
mcgdonal
commented
Mar 9, 2025
•
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
instagram-follower-following and download video tool checker If you're looking for an easy way to view Instagram stories anonymously, check out[ iganony] It lets you view and download Instagram stories without an account.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.