AFaust’s gists · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
Axel Faust
AFaust
93
followers
·
1
following
Acosix GmbH
Eschborn, Germany
http://axel-faust.de
X
@ReluctantBird83
View GitHub Profile
All gists
12
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
1 file
0 forks
0 comments
1 star
AFaust
/ alfresco-access-audit-loginSummaryQuery.sql
Created
October 5, 2022 16:20
Alfresco Audit alfresco-access Login Summary
select
unpsv.string_value as user,
max(audit_time) as lastLoginTime,
count(*) as loginCounts
from
alf_prop_link pl
left join alf_audit_entry ae on ae.audit_values_id = pl.root_prop_id
left join alf_prop_value unpv on unpv.id = ae.audit_user_id
left join alf_prop_string_value unpsv on unpsv.id = unpv.long_value
where
2 files
0 forks
0 comments
2 stars
AFaust
/ clearAllJMXSettings.sql
Last active
September 19, 2025 07:37
Alfresco SQL scripts for upgrade preparation
delete
from
alf_prop_link
where
root_prop_id in (
select
prop1_id
from
alf_prop_unique_ctx ctx
left join alf_prop_value pvj1 on ctx.value1_prop_id = pvj1.id
1 file
0 forks
0 comments
0 stars
AFaust
/ ComplexCacheKeyTests.java
Created
June 20, 2019 14:12
Unit test for using complex cache keys in Apache Ignite - sample for question on Ignite mailing list
import java.io.Serializable;
import org.apache.ignite.Ignite;
import org.apache.ignite.IgniteCache;
import org.apache.ignite.Ignition;
import org.apache.ignite.cache.CacheMode;
import org.apache.ignite.cache.eviction.lru.LruEvictionPolicyFactory;
import org.apache.ignite.configuration.CacheConfiguration;
import org.apache.ignite.configuration.IgniteConfiguration;
import org.junit.Assert;
2 files
2 forks
0 comments
0 stars
AFaust
/ migrate-activiti-workflows.sql
Created
May 24, 2019 14:32
Alfresco db-v4.2-migratActivitiWorkflows script (last suported on 5.2)
--
-- Title:
Migrate old workflow details into act_hi_varinst
-- Database:
PostgreSQL
-- Since:
V4.2 Schema 6080
--
-- Please contact support@alfresco.com if you need assistance with the upgrade.
--
-- Migrate old workflow details into act_hi_varinst
--ASSIGN:START_INDEX=VALUE_
1 file
2 forks
3 comments
5 stars
AFaust
/ reset_alf_auth_script.sql
Last active
September 18, 2025 12:06
Reset Alfresco Authorised Users tracking (only meant for fixing errors, i.e. MNT-16663, or false-positive 'manual changes' detection - not to circumvent subscription terms)
-- clear all user license states
delete from alf_auth_status;
-- remove old checksum and keystore
-- ns_id = 1 should always be the system model, store_id = 2 always the system store
delete from alf_node_properties where qname_id in (
select id from alf_qname where ns_id = 1 and local_name in ('keyStore', 'authorizationChecksum')
) and node_id in (
select id from alf_node where store_id = 2
);
3 files
1 fork
2 comments
4 stars
AFaust
/ alfresco
Created
May 2, 2017 07:26
Alfresco logrotate.d examples - able to handle compress and clear historic timestamped log files
/opt/alfresco/tomcat/logs/catalina.out {
daily
rotate 27
notifempty
missingok
compress
delaycompress
copytruncate
}
1 file
1 fork
0 comments
1 star
AFaust
/ cleanupAlfrescoHistAct.sql
Last active
January 15, 2017 05:44
Delete all historic process instances and related historic data for workflows completed before a specific date (MySQL / MariaDB)
delete from act_hi_actinst where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_attachment where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_comment where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_detail where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_identitylink where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_varinst where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is not null and end_time_ < timestamp '2016-11-24');
delete from act_hi_taskinst where proc_inst_id_ in (select id_ from act_hi_procinst where end_time_ is no
1 file
0 forks
0 comments
0 stars
AFaust
/ reset-site-theme.js
Created
November 29, 2016 14:37
Alfresco JavaScript Console script to reset the theme of all sites in Alfresco to the system default
var sites, idx, site, dashboard, xmlConfig;
sites = search.query({ language: 'fts-alfresco', query: 'TYPE:"st:sites"'});
for (idx = 0; idx < sites.length; idx++)
{
site = sites[idx];
dashboard = site.childrenByXPath('cm:surf-config/cm:pages/cm:site/cm:' + site.name + '/cm:dashboard.xml')[0];
xmlConfig = dashboard.content;
1 file
0 forks
0 comments
0 stars
AFaust
/ dashlet-removal.js
Last active
November 29, 2016 14:40
Alfresco JavaScript Console script to remove various specific dashlets from user and site dashboards
var siteDashboardComponents, userDashboardComponents, idx;
siteDashboardComponents = companyhome.childrenByXPath('st:sites/cm:*/cm:surf-config/cm:components/*');
userDashboardComponents = companyhome.childrenByXPath('st:sites/cm:surf-config/cm:components/*');
function checkAndRemoveComponent (component)
{
var componentXml;
// we don't expect anything else but just to be sure
if (/dashboard.xml$/.test(component.name))
6 files
3 forks
0 comments
9 stars
AFaust
/ dumpHeap.js
Last active
April 25, 2025 13:13
Useful Alfresco JavaScript console scripts
// usefull in default Alfresco Docker images which don't provide jmap/jcmd CLI tools
var mbean = Packages.java.lang.management.ManagementFactory.getPlatformMXBean(Packages.com.sun.management.HotSpotDiagnosticMXBean);
mbean.dumpHeap('/usr/local/tomcat/temp/dump.hprof', true);
NewerOlder
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.