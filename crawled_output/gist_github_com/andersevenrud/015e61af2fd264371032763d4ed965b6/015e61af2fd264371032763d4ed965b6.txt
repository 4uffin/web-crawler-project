True Color (24-bit) and italics with alacritty + tmux + vim (neovim) ¬∑ GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign¬†in
Sign¬†up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
andersevenrud/alacritty-tmux-vim_truecolor.md
Last active
September 17, 2025 13:19
Show Gist options
Download ZIP
Star
607
(607)
You must be signed in to star a gist
Fork
59
(59)
You must be signed in to fork a gist
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/andersevenrud/015e61af2fd264371032763d4ed965b6.js&quot;&gt;&lt;/script&gt;
Save andersevenrud/015e61af2fd264371032763d4ed965b6 to your computer and use it in GitHub Desktop.
Code
Revisions
65
Stars
607
Forks
59
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/andersevenrud/015e61af2fd264371032763d4ed965b6.js&quot;&gt;&lt;/script&gt;
Save andersevenrud/015e61af2fd264371032763d4ed965b6 to your computer and use it in GitHub Desktop.
Download ZIP
True Color (24-bit) and italics with alacritty + tmux + vim (neovim)
Raw
alacritty-tmux-vim_truecolor.md
True Color (24-bit) and italics with alacritty + tmux + vim (neovim)
This should make True Color (24-bit) and italics work in your tmux session and vim/neovim when using Alacritty (and should be compatible with any other terminal emulator, including Kitty).
Testing colors
Running this script should look the same in tmux as without.
curl -s https://gist.githubusercontent.com/lifepillar/09a44b8cf0f9397465614e622979107f/raw/24-bit-color.sh >24-bit-color.sh
bash 24-bit-color.sh
Configuration files
‚ö†Ô∏è IMPORTANT ‚ö†Ô∏è Don't set $TERM in your shell (zshrc, bashrc, etc.), but your terminal (alacritty).
Alacritty
In ~/.config/alacritty/alacritty.yml:
env:
TERM: xterm-256color
tmux
In ~/.tmux.conf (or ~/.config/tmux/tmux.conf):
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
# Or use a wildcard instead of forcing a default mode.
# Some users in the comments of this gist have reported that this work better.
#set -sg terminal-overrides ",*:RGB"
# You can also use the env variable set from the terminal.
# Useful if you share your configuration betweeen systems with a varying value.
#set -ag terminal-overrides ",$TERM:RGB"
vim
In ~/.vimrc:
" You might have to force true color when using regular vim inside tmux as the
" colorscheme can appear to be grayscale with "termguicolors" option enabled.
if !has('gui_running') && &term =~ '^\%(screen\|tmux\)'
let &t_8f = "\<Esc>[38;2;%lu;%lu;%lum"
let &t_8b = "\<Esc>[48;2;%lu;%lu;%lum"
endif
syntax on
set termguicolors
colorscheme yourfavcolorscheme
neovim
If you use ~/.vimrc for your nvim configuration, use the above vim example because it's fully compatible.
üí° neovim recently (Dec 6th 2023) merged some changes that detects termguicolors automatically, so there's no need to set this in an upcoming release. I'll update this notice with a version once released as a public version. This came with the 0.10 release (May 16th 2024).
In ~/.config/nvim/init.vim
set termguicolors
colorscheme yourfavcolorscheme
Or ~/.config/nvim/init.lua:
vim.o.termguicolors = true
vim.cmd'colorscheme yourfavcolorscheme'
Not working correctly ?
Check out the comments below for possible solutions.
And if you found another solution I would really appreciate if you left a comment with instructions and the following information:
OS/Distro + version
Vim or Neovim + version
Terminal name + version
Mentions
Shout-out to the nice folks that provided insightful feedback:
@mikeslattery native neovim termguicolors support
@mikeslattery black and white vim colorscheme
@sahibalejandro env variable inside tmux configuration
@wonbinbk wildcard in tmux terminal configuration
Load earlier comments...
Copy link
fishel-feng
commented
Oct 19, 2023
I find that when I press backspace inside tmux, it convert to white space. also the color is also inconsisent outside and inside tmux
MacOS : 12.6
Vim : 9.0
Alacritty : 0.11.0
inside alacritty.yml:
font:
normal:
family: Menlo
size: 14.0
Inside .vimrc:
set background=dark
if !has('gui_running') && &term =~ '^\%(screen\|tmux\)'
let &t_8f = "\<Esc>[38;2;%lu;%lu;%lum"
let &t_8b = "\<Esc>[48;2;%lu;%lu;%lum"
endif
syntax on
set termguicolors
colorscheme onedark
Inside .tmux.conf:
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
@sokinpui
The phenomenon I encountered before is the same as yours. You can try this set of configurations. It works for me.
alacrity
env:
TERM: screen-256color
tmux
set -g default-terminal "screen-256color"
set-option -sa terminal-overrides ',screen-256color:Tc'
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
nickgnd
commented
Oct 24, 2023
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
Hey üëã
This combination of settings works fine for me
# .alacritty.yml
env:
TERM: alacritty
and in my tmux config:
# tmux.conf
set-option -g default-terminal "screen-256color"
OS/Distro: MacOS Ventura 13.6
Vim: VIM - Vi IMproved 9.0
Terminal: alacritty 0.12.3 (5efb069)
Tmux: tmux 3.3a
Hope it can help ‚úåÔ∏è
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
antonkesy
commented
Oct 24, 2023
Alacritty versions >= 0.13.0 (moved to TOML for config)
[env]
TERM="xterm-256color"
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
Hritik14
commented
Nov 7, 2023
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
Italics in my vim were messed up, if someone has this problem, you can verify by running
echo -e "\e[3mitalic\e[0m"
if output is in italics then it's a vim problem, otherwise something else is wrong.
I had to add the following in my vimrc as per this for italics.
let &t_ZH="\e[3m"
let &t_ZR="\e[23m"
using macvim, tmux and iterm2
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
PThorpe92
commented
Nov 10, 2023
Thank you so much for this..
I legit switched to kitty for months over this issue, I had tried every fix out there (what did it was the ENV) so glad to be back with alacritty
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
jonnovaretti
commented
Nov 20, 2023
AMAZING!!! Thanks
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
mikeslattery
commented
Dec 11, 2023
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
BREAKING NEWS!
(edits: I was wrong.
Only the neovim changes aren't necessary.)
tl;dr - This gist is no longer necessary with latest Neovim.
Neovim now checks for 256 color compatibility and automatically sets termguicolors.
Alacritty with default $TERM value ("alacritty") works fine.
I just tested it with nightly.
Recent changes announced at the Neovim conference a few days ago have made the changes in this gist unnecessary for latest builds.
However, I'm sure as of this moment many people are using versions that don't yet support this and that will likely be the case for a few weeks.
I don't know the exact version this was added, or which versions have it other than latest nightly.
Of course, it will still be necessary for Vim.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
Author
andersevenrud
commented
Dec 12, 2023
Thanks for the heads-up @mikeslattery ! This is great news :)
I'll update this article and follow up when this goes into a public release.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
mikeslattery
commented
Dec 13, 2023
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
Looks like I wasn't correct.
You still need the tmux and alacritty config.
You just don't need the neovim config anymore.
Quick test for Linux.
As of this comment it works for nightly and not for release.
#!/bin/bash
# Test for truecolor.
Should see bands of smooth gradient colors.
# To test
installed nvim, set this to "nvim" and comment out #linux nvim install block, and remove rm $NVIM line
NVIM=/tmp/nvim
# Linux nvim install
NIGHTLY=https://github.com/neovim/neovim/releases/download/nightly/nvim.appimage
RELEASE=https://github.com/neovim/neovim/releases/download/stable/nvim.appimage
# Change to $NIGHTLY to see it working correctly.
curl -Lo $NVIM $RELEASE
chmod +x $NVIM
# Reconfigure
echo '
set -ag terminal-overrides ",xterm-256color:RGB"
' > /tmp/.tmux.conf
echo '
env:
TERM: xterm-256color
' > /tmp/alacritty.yaml
# Test
TEST=https://gist.githubusercontent.com/lifepillar/09a44b8cf0f9397465614e622979107f/raw/24-bit-color.sh
alacritty --config-file /tmp/alacritty.yaml \
-e tmux -f /tmp/.tmux.conf -L nvim new-session \
$NVIM --clean
"+terminal curl -s $TEST | bash" "+set termguicolors?"
# old way:
# $NVIM --clean
+"set termguicolors" "+colorscheme ron" "+terminal curl -s $TEST | bash"
# Cleanup
rm "$NVIM"
rm /tmp/.tmux.conf /tmp/alacritty.yaml
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
Author
andersevenrud
commented
Dec 13, 2023
Appreciate the detailed follow-up on this @mikeslattery. I've updated the article to reflect this üëç
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
n0099
commented
Feb 29, 2024
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
echo 'set -as terminal-overrides ",'"$(echo ${TERM%%-*})"'*:Tc"' >> ~/.tmux.conf
https://github.com/tmux/tmux/wiki/FAQ#how-do-i-use-rgb-colour
tmux must be told that the terminal outside supports RGB colour. This is done by specifying the RGB or Tc terminfo(5) flags. RGB is the official flag, Tc is a tmux extension.
With tmux 3.2 and later this can be added with the terminal-features option:
set -as terminal-features ",gnome*:RGB"
Or for any tmux version the terminal-overrides option:
set -as terminal-overrides ",gnome*:Tc"
and replace gnome with the result of echo ${TERM%%-*} (the first part of $TERM delimited by -) from the terminal emulator that you are currently using outside tmux such as putty or xterm.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
ferBV
commented
Mar 24, 2024
Just what I needed, thank you a lot.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
ghost
commented
May 29, 2024
My configuration:
alacritty 0.13.2
NVIM v0.9.5
.tmux.conf
# Fix Colors
set -g default-terminal "screen-256color"
set -ag terminal-overrides ",xterm-256color:RGB
alacritty.toml
[env]
TERM="xterm-256color"
config neovim
vim.opt.termguicolors = true
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
zachliu
commented
Jun 3, 2024
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
My configuration:
zsh 5.9
tmux 3.4
alacritty 0.13.2
NVIM v0.10.0-dev-3135+g7acf39dda
.tmux.conf
set -g default-terminal "tmux-256color"
set -sg terminal-overrides ",*:RGB"
.config/nvim/init.vim
if $COLORTERM ==# 'truecolor'
set termguicolors
else
set guicursor=
endif
nothing special on alacritty.toml and .zshrc
i didn't set env TERM explicitly. but i have
$ env | rg TERM
COLORTERM=truecolor
TERM=tmux-256color
TERM_PROGRAM=tmux
TERM_PROGRAM_VERSION=3.4
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
rdyson
commented
Jun 8, 2024
Thanks for this!
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
dffuller
commented
Jun 20, 2024
@LeFede This worked for me with Arch/Alacritty/tmux
alacritty.yaml
env:
TERM: alacritty-direct
tmux.conf
set-option -a terminal-overrides ",alacritty:RGB"
default-terminal was not needed in the tmux.conf
This worked for me.
Thanks so much for adding this information!
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
rogerneel
commented
Jun 25, 2024
On a Wayland / Hyprland setup
My .tmux.conf only has the line:
set -g default-terminal "screen-256color"
I added to alacritty.toml, which seemed to be the key:
[colors]
transparent_background_colors = true
[window]
opacity = 0.8
Immediately both neovim and tmux started showing transparency. I did not have to explicitly set vim.opt.termguicolors = true in my neovim conf.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
delatorrejuanchi
commented
Jul 11, 2024
I've only added the following to alacritty.toml (i.e.: using a default tmux config) and it seems to work as expected.
[env]
TERM = "alacritty-direct"
Undercurls, italics, bold, strikethrough, etc. also work.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
arash28134
commented
Aug 1, 2024
Worked out of the box on Arch! Thanks!
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
elanmed
commented
Aug 5, 2024
Heads up that it's not enough to source your tmux config after making changes to it (i.e. with tmux source /path/to/tmux.conf), I needed to kill the session and start a new one for the true colors to take effect
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
s3rgeym
commented
Oct 24, 2024
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
~/.tmux.conf
# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ true color
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ',xterm-256color:Tc'
# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º—ã—à–∏
set -g mouse on
~/.config/alacritty/alacritty.toml
[terminal.shell]
program = "tmux"
args = []
[env]
# –ë–µ–∑ —ç—Ç–æ–≥–æ –≤ tmux true color –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
TERM = "alacritty-direct"
~/.config/vim/vimrc
" –ò—Å–ø–æ–ª—å–∑—É–µ–º 20-–±–∏—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
set termguicolors
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
doanwebute
commented
Nov 21, 2024
OSX Ventura Alacritty 0.12.2 tmux 3.3a nvim 0.9.2
Problem
When using neovim within tmux, my colors were off and it would not display italics or undercurls.
Solution
I had trouble with the provided solution, but it pointed me in the right direction. This is what works for me.
alacritty
I left the env: section commented out
tmux.conf
set-option -sa terminal-features ',alacritty:RGB'
set-option -ga terminal-features ",alacritty:usstyle"
set-option -ga terminal-overrides ',alacritty:Tc'
set -g default-terminal "alacritty"
nvim
termguicolors = true
MacOS Monterey use this setting and work! Thank man
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
nicholas-judge
commented
Nov 26, 2024
echo 'set -as terminal-overrides ",'"$(echo ${TERM%%-*})"'*:Tc"' >> ~/.tmux.conf
https://github.com/tmux/tmux/wiki/FAQ#how-do-i-use-rgb-colour
tmux must be told that the terminal outside supports RGB colour. This is done by specifying the RGB or Tc terminfo(5) flags. RGB is the official flag, Tc is a tmux extension.
With tmux 3.2 and later this can be added with the terminal-features option:
set -as terminal-features ",gnome*:RGB"
Or for any tmux version the terminal-overrides option:
set -as terminal-overrides ",gnome*:Tc"
and replace gnome with the result of echo ${TERM%%-*} (the first part of $TERM delimited by -) from the terminal emulator that you are currently using outside tmux such as putty or xterm.
I've tried everything else in this thread, this was the only thing that solved it for me running Ubuntu 22.04.5 LTS with tmux 3.2a and neovim v0.10.0-dev.
Bless your beautiful shell skills!
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
kvalv
commented
Nov 30, 2024
Thanks alot for this, it worked! üòÑ
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
bogdanp05
commented
Dec 2, 2024
Fedora 41, Alacritty 0.14.0, tmux 3.5a, nvim 0.10.2
What worked for me was @ericragsdale solution:
alacritty:
nothing in the env section
tmux.conf:
set-option -sa terminal-features ',alacritty:RGB'
set-option -ga terminal-features ",alacritty:usstyle"
set-option -ga terminal-overrides ',alacritty:Tc'
set -g default-terminal "alacritty"
thanks!
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
mikeslattery
commented
Dec 2, 2024
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
@bogdanp05 I use the exact same software versions as you (Fedora, Alacrity, tmux, nvim).
The default solution ITT worked for me.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
solidsnakedev
commented
Dec 31, 2024
using Nix Home manager
programs.tmux = {
enable = true;
extraConfig = ''
#Configure True Colors
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
'';
};
programs.alacritty = {
enable = true;
env = {
TERM = "xterm-256color";
};
};
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
jacob7395
commented
Jan 10, 2025
‚Ä¢
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
This dose not represent my current setting but will leave it here for completeness see my next comment
FYI any using wsl with alarcitty installed on windows these colour issues, I resolved them with;
alacritty.toml
[env]
TERM = "alacritty"
WSLENV="TERM/u:USERPROFILE/u"
If you get an error about not being able to find the term alacritty when opening Ubuntu follow Post Build. I did the following;
Installed all the dependency's required for Ubuntu and alacritty
Used cargo to build alacritty on my WSL instance
Installed the Terminfo as described in the post-build above; FYI; I had to clone the ropo then ran tic pointing at my repo
After that my setting my tmux.conf to finally did the trick
set-option -sa terminal-features ',alacritty:RGB'
set-option -ga terminal-features ",alacritty:usstyle"
set-option -ga terminal-overrides ',alacritty:Tc'
set -g default-terminal "alacritty"
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
JoaoFelipe3
commented
Apr 22, 2025
Run this with bash, not sh. Learned this the hard way
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
jacob7395
commented
Apr 23, 2025
@JoaoFelipe3, thanks for the comment I wanted to update this but completely lost the ticker. After reading the docs from tmux I settled on a different config that has been working for the last few moths.
set -g default-terminal 'tmux-256color'
set -as terminal-overrides ',*:Setulc=\E[58::2::::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set -as terminal-features ',*:usstyle'
set -as terminal-features ',xterm*:RGB'
set -as terminal-features ',alacritty*:RGB'
The main note is from the tmux docs It says to use default-terminal 'tmux-256color' and the above is working for me.
[env]
TERM = "alacritty"
LC_CTYPE = "en_US.UTF-8"
WSLENV="TERM/u:USERPROFILE/u"
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Footer
¬© 2025 GitHub,¬†Inc.
Footer navigation
Terms
Privacy
Security
Status
Docs
Contact
Manage cookies
Do not share my personal information
You can‚Äôt perform that action at this time.